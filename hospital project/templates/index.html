{% extends "base.html" %}

{% block title %}Home - Hospital Booking System{% endblock %}

{% block content %}
<div class="hero">
    <div class="container">
        <h1 style="font-size: 3.5rem; font-weight: 700; margin-bottom: 1.5rem;">Online Doctor Appointment Scheduling Software</h1>
        <p style="font-size: 1.5rem; margin-bottom: 2rem; opacity: 0.95;">
            Increase efficiency and keep patients at the heart of your practice.
        </p>
        <div>
            <a href="/register" class="btn btn-primary" style="font-size: 1.1rem; padding: 1rem 2rem;">Sign up FREE today</a>
            <a href="/login" class="btn btn-outline" style="margin-left: 1rem; color: white; border-color: white; font-size: 1.1rem; padding: 1rem 2rem;">Login</a>
        </div>
    </div>
</div>

<!-- Patient-First Section -->
<div class="container" style="margin-top: 5rem; margin-bottom: 5rem;">
    <div class="card" style="background: white; border: none; box-shadow: var(--shadow-lg); overflow: hidden;">
        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 0; align-items: center;">
            <!-- Text Content -->
            <div style="padding: 4rem 3rem;">
                <h2 style="font-size: 2.5rem; color: var(--primary-color); margin-bottom: 1rem; font-weight: 700;">
                    Patient-First & Trust-Driven
                </h2>
                <h3 style="font-size: 1.8rem; color: var(--text-dark); margin-bottom: 1.5rem; font-weight: 600;">
                    Effortless Doctor Appointments, Better Patient Care
                </h3>
                <p style="font-size: 1.1rem; color: var(--text-light); line-height: 1.8; margin-bottom: 2rem;">
                    Manage schedules efficiently while putting patients first with a fast, secure, and easy-to-use appointment booking system.
                </p>
                <a href="/register" class="btn btn-primary" style="font-size: 1rem; padding: 0.875rem 2rem;">
                    Get Started Today
                </a>
            </div>
            <!-- Image -->
            <div style="position: relative; height: 100%; min-height: 400px; background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%); overflow: hidden; display: flex; align-items: center; justify-content: center;">
                <img id="patient-care-img" 
                     src="/static/images/patient-care-image.jpg" 
                     alt="Healthcare professionals providing compassionate care to patients - Patient-First & Trust-Driven" 
                     style="width: 100%; height: 100%; object-fit: cover; display: block;"
                     loading="lazy"
                     onerror="handleImageError(this)">
                <div id="image-placeholder" style="display: none; text-align: center; padding: 2rem; width: 100%; height: 100%; display: flex; flex-direction: column; align-items: center; justify-content: center; background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);">
                    <div style="font-size: 5rem; margin-bottom: 1rem;">üë®‚Äç‚öïÔ∏èüë©‚Äç‚öïÔ∏è</div>
                    <p style="color: var(--text-dark); font-size: 1.2rem; font-weight: 600; margin-bottom: 0.5rem;">Patient-First Care</p>
                    <p style="color: var(--text-light); font-size: 0.95rem;">Compassionate healthcare professionals</p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Main Value Proposition -->
<div class="container" style="margin-top: 5rem; margin-bottom: 5rem;">
    <div class="card" style="background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%); border: none;">
        <div style="text-align: center; padding: 3rem 2rem;">
            <h2 style="font-size: 2.5rem; color: var(--text-dark); margin-bottom: 2rem; font-weight: 700;">
                Patient-First & Friendly
            </h2>
            <div style="max-width: 900px; margin: 0 auto;">
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; text-align: left; margin-top: 2rem;">
                    <div style="padding: 1.5rem; background: white; border-radius: 0.75rem; box-shadow: var(--shadow);">
                        <div style="font-size: 2rem; margin-bottom: 0.75rem;">‚úì</div>
                        <h3 style="font-size: 1.3rem; color: var(--primary-color); margin-bottom: 0.5rem; font-weight: 600;">
                            Appointments Made Easy for You and Your Patients
                        </h3>
                        <p style="color: var(--text-light); line-height: 1.6;">
                            Simple, intuitive booking that works for everyone
                        </p>
                    </div>
                    <div style="padding: 1.5rem; background: white; border-radius: 0.75rem; box-shadow: var(--shadow);">
                        <div style="font-size: 2rem; margin-bottom: 0.75rem;">‚úì</div>
                        <h3 style="font-size: 1.3rem; color: var(--primary-color); margin-bottom: 0.5rem; font-weight: 600;">
                            Book Care, Not Phone Calls
                        </h3>
                        <p style="color: var(--text-light); line-height: 1.6;">
                            Skip the wait. Book instantly, anytime, anywhere
                        </p>
                    </div>
                    <div style="padding: 1.5rem; background: white; border-radius: 0.75rem; box-shadow: var(--shadow);">
                        <div style="font-size: 2rem; margin-bottom: 0.75rem;">‚úì</div>
                        <h3 style="font-size: 1.3rem; color: var(--primary-color); margin-bottom: 0.5rem; font-weight: 600;">
                            Healthcare That Fits Your Schedule
                        </h3>
                        <p style="color: var(--text-light); line-height: 1.6;">
                            Flexible scheduling that adapts to your life
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Key Features -->
<div class="container" style="margin-top: 4rem;">
    <h2 style="text-align: center; font-size: 2.5rem; margin-bottom: 4rem; color: var(--text-dark); font-weight: 700;">
        Optimize Your Practice, Effortlessly
    </h2>
    
    <div style="max-width: 1000px; margin: 0 auto;">
        <!-- Feature 1 -->
        <div style="margin-bottom: 3rem; padding-bottom: 3rem; border-bottom: 2px solid var(--border-color);">
            <div style="display: flex; align-items: flex-start; gap: 2rem;">
                <div style="font-size: 4rem; flex-shrink: 0;">üìÖ</div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.8rem; color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">
                        Design Your Personalized Booking Experience
                    </h3>
                    <p style="color: var(--text-light); line-height: 1.8; font-size: 1.1rem;">
                        Reduce appointment scheduling time with a custom online booking page. Allow patients to self-schedule consultations with the right specialists in just a few clicks.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Feature 2 -->
        <div style="margin-bottom: 3rem; padding-bottom: 3rem; border-bottom: 2px solid var(--border-color);">
            <div style="display: flex; align-items: flex-start; gap: 2rem;">
                <div style="font-size: 4rem; flex-shrink: 0;">üë®‚Äç‚öïÔ∏è</div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.8rem; color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">
                        Showcase Doctor Availability in Real Time
                    </h3>
                    <p style="color: var(--text-light); line-height: 1.8; font-size: 1.1rem;">
                        Create detailed profiles for every doctor in your practice. Help patients easily find the right consultant while ensuring smooth and accurate appointment allocation.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Feature 3 -->
        <div style="margin-bottom: 3rem; padding-bottom: 3rem; border-bottom: 2px solid var(--border-color);">
            <div style="display: flex; align-items: flex-start; gap: 2rem;">
                <div style="font-size: 4rem; flex-shrink: 0;">üîî</div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.8rem; color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">
                        Reduce No-Shows with Smart Reminders
                    </h3>
                    <p style="color: var(--text-light); line-height: 1.8; font-size: 1.1rem;">
                        Send automated appointment reminders and confirmations. Patients can conveniently reschedule on their own, keeping your calendar accurate and up to date.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Feature 4 -->
        <div style="margin-bottom: 3rem; padding-bottom: 3rem; border-bottom: 2px solid var(--border-color);">
            <div style="display: flex; align-items: flex-start; gap: 2rem;">
                <div style="font-size: 4rem; flex-shrink: 0;">üì±</div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.8rem; color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">
                        Manage Your Schedule Anytime, Anywhere
                    </h3>
                    <p style="color: var(--text-light); line-height: 1.8; font-size: 1.1rem;">
                        Access your appointment calendar on the go. Receive instant alerts and stay in control of your schedule‚Äîeven when you're away from the clinic.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Feature 5 -->
        <div style="margin-bottom: 3rem; padding-bottom: 3rem; border-bottom: 2px solid var(--border-color);">
            <div style="display: flex; align-items: flex-start; gap: 2rem;">
                <div style="font-size: 4rem; flex-shrink: 0;">üîÑ</div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.8rem; color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">
                        Plan Follow-Ups with Confidence
                    </h3>
                    <p style="color: var(--text-light); line-height: 1.8; font-size: 1.1rem;">
                        Organize complete treatment journeys by scheduling recurring follow-up visits in advance. Provide consistent care without repeated manual bookings.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- Feature 6 -->
        <div style="margin-bottom: 3rem; padding-bottom: 3rem; border-bottom: 2px solid var(--border-color);">
            <div style="display: flex; align-items: flex-start; gap: 2rem;">
                <div style="font-size: 4rem; flex-shrink: 0;">üè•</div>
                <div style="flex: 1;">
                    <h3 style="font-size: 1.8rem; color: var(--primary-color); margin-bottom: 1rem; font-weight: 600;">
                        Simplify Operation Scheduling
                    </h3>
                    <p style="color: var(--text-light); line-height: 1.8; font-size: 1.1rem;">
                        Easily schedule and manage surgical procedures across specialties such as Orthopedics, Gynecology, and General Surgery‚Äîall from one centralized system.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Security & Compliance -->
<div class="container" style="margin-top: 5rem; margin-bottom: 5rem;">
    <div class="card" style="background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%); border: none;">
        <div style="padding: 3rem 2rem;">
            <div style="display: flex; align-items: flex-start; gap: 2rem; max-width: 1000px; margin: 0 auto;">
                <div style="font-size: 4rem; flex-shrink: 0;">üîê</div>
                <div style="flex: 1;">
                    <h2 style="font-size: 2.5rem; color: var(--text-dark); margin-bottom: 1.5rem; font-weight: 700;">
                        Healthcare-Grade Security You Can Trust
                    </h2>
                    <p style="font-size: 1.25rem; color: var(--text-dark); line-height: 1.8;">
                        Protect patient data with built-in security and privacy safeguards designed specifically for healthcare environments. Your data stays secure, compliant, and confidential.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- For Different User Types -->
<div class="container" style="margin-top: 4rem; margin-bottom: 4rem;">
    <div style="max-width: 1000px; margin: 0 auto;">
        <div style="display: flex; align-items: flex-start; gap: 2rem; padding: 3rem 2rem; background: white; border-radius: 0.75rem; box-shadow: var(--shadow-lg);">
            <div style="font-size: 4rem; flex-shrink: 0;">ü§ù</div>
            <div style="flex: 1;">
                <h2 style="font-size: 2.5rem; color: var(--text-dark); margin-bottom: 1.5rem; font-weight: 700;">
                    Designed for Every Healthcare Professional
                </h2>
                <p style="font-size: 1.25rem; color: var(--text-light); line-height: 1.8;">
                    Whether you're a hospital, clinic, doctor, or specialist, our platform adapts seamlessly to your workflow‚Äîmaking appointment management simpler for everyone.
                </p>
            </div>
        </div>
    </div>
</div>

<!-- Pricing Section -->
<div class="container" style="margin-top: 5rem; margin-bottom: 5rem;">
    <div style="text-align: center; margin-bottom: 4rem;">
        <h2 style="font-size: 2.5rem; color: var(--text-dark); margin-bottom: 1rem; font-weight: 700;">
            Simple, Transparent Pricing
        </h2>
        <p style="font-size: 1.25rem; color: var(--text-light); max-width: 600px; margin: 0 auto;">
            Choose the perfect plan for your practice. All plans include core features with no hidden fees.
        </p>
    </div>
    
    <div id="pricing-container" style="overflow-x: auto;">
        <!-- Pricing table will be loaded here -->
        <div style="text-align: center; padding: 2rem;">
            <div class="spinner"></div>
            <p style="margin-top: 1rem; color: var(--text-light);">Loading pricing...</p>
        </div>
    </div>
    
    <div style="text-align: center; margin-top: 3rem;">
        <p style="color: var(--text-light); font-size: 0.95rem;">
            <strong>Save 20%</strong> when you choose annual billing ‚Ä¢ All plans include 14-day free trial
        </p>
    </div>
</div>

<!-- CTA Section -->
<div class="container" style="margin-top: 5rem; margin-bottom: 5rem;">
    <div class="card" style="background: linear-gradient(135deg, var(--primary-color) 0%, var(--primary-dark) 100%); color: white; border: none; text-align: center; padding: 4rem 2rem;">
        <h2 style="font-size: 2.5rem; margin-bottom: 1.5rem; color: white;">
            Make time for what truly matters
        </h2>
        <p style="font-size: 1.25rem; margin-bottom: 2.5rem; opacity: 0.95;">
            Join thousands of healthcare providers who trust our platform
        </p>
        <a href="/register" class="btn" style="background: white; color: var(--primary-color); font-size: 1.2rem; padding: 1rem 3rem; font-weight: 600;">
            Get Started FREE
        </a>
    </div>
</div>

<!-- Stats Section -->
<div class="container" style="margin-top: 4rem; margin-bottom: 4rem;">
    <div class="card" style="background: var(--bg-light); border: none; text-align: center; padding: 3rem 2rem;">
        <h3 style="font-size: 2rem; color: var(--text-dark); margin-bottom: 2rem;">
            Reduce Missed Appointments
        </h3>
        <p style="font-size: 1.5rem; color: var(--text-light); max-width: 700px; margin: 0 auto; line-height: 1.8;">
            Automatic appointment reminders help reduce costly no-shows. Maximize your in-practice hours with an online doctor appointment system.
        </p>
    </div>
</div>

<script>
// Load pricing from configuration
async function loadPricing() {
    try {
        const response = await fetch('/static/pricing_config.json');
        const config = await response.json();
        
        const container = document.getElementById('pricing-container');
        container.innerHTML = '';
        
        // Get all unique features across all plans
        const allFeatures = new Set();
        config.plans.forEach(plan => {
            plan.features.forEach(feature => allFeatures.add(feature));
        });
        const featureList = Array.from(allFeatures);
        
        // Calculate annual prices
        const plansWithAnnual = config.plans.map(plan => {
            const annualPrice = Math.round(parseInt(plan.price) * 12 * (1 - config.annual_discount / 100));
            const monthlyFromAnnual = Math.round(annualPrice / 12);
            return {
                ...plan,
                annualPrice: annualPrice,
                monthlyFromAnnual: monthlyFromAnnual
            };
        });
        
        // Create table
        let tableHTML = `
            <div style="background: white; border-radius: 1rem; overflow: hidden; box-shadow: var(--shadow-lg); margin: 0 auto; max-width: 100%;">
                <table class="pricing-table" style="width: 100%; border-collapse: collapse; border: 1px solid var(--border-color);">
                    <thead>
                        <tr>
                            <th style="padding: 1.5rem; text-align: left; background: #f8f9fa; border: 1px solid #dee2e6; font-weight: 600; color: var(--text-dark); font-size: 1rem; width: 30%;">
                                Features
                            </th>
        `;
        
        // Add plan headers
        plansWithAnnual.forEach(plan => {
            const isPopular = plan.popular;
            tableHTML += `
                <th style="padding: 1.5rem; text-align: center; background: ${isPopular ? '#e7f3ff' : '#f8f9fa'}; border: 1px solid #dee2e6; position: relative; vertical-align: top; ${isPopular ? 'border-top: 3px solid var(--primary-color); border-bottom: 3px solid var(--primary-color);' : ''}">
                    ${isPopular ? '<div style="position: absolute; top: -15px; left: 50%; transform: translateX(-50%); background: var(--primary-color); color: white; padding: 0.4rem 1.2rem; border-radius: 20px; font-size: 0.75rem; font-weight: 700; white-space: nowrap;">MOST POPULAR</div>' : ''}
                    <div style="margin-top: ${isPopular ? '0.5rem' : '0'};">
                        <h3 style="font-size: 1.5rem; color: var(--text-dark); margin-bottom: 0.5rem; font-weight: 700; line-height: 1.2;">
                            ${plan.name}
                        </h3>
                        <p style="color: var(--text-light); font-size: 0.875rem; margin-bottom: 1rem; line-height: 1.4;">
                            ${plan.description}
                        </p>
                        <div style="margin-bottom: 1rem;">
                            <div style="display: flex; align-items: baseline; justify-content: center; gap: 0.25rem; margin-bottom: 0.25rem;">
                                <span style="font-size: 1rem; color: var(--text-light);">${config.currency_symbol}</span>
                                <span style="font-size: 2.5rem; font-weight: 700; color: var(--primary-color); line-height: 1;">
                                    ${plan.price}
                                </span>
                                <span style="font-size: 0.875rem; color: var(--text-light);">/month</span>
                            </div>
                            <p style="font-size: 0.75rem; color: var(--text-light); margin: 0;">
                                or ${config.currency_symbol}${plan.monthlyFromAnnual}/mo billed annually
                            </p>
                        </div>
                        <a href="/register" class="btn ${isPopular ? 'btn-primary' : 'btn-outline'}" 
                           style="width: 100%; font-size: 0.875rem; padding: 0.75rem 1rem; font-weight: 600; margin-top: 0.5rem; display: inline-block; text-align: center;">
                            Get Started
                        </a>
                    </div>
                </th>
            `;
        });
        
        tableHTML += `
                        </tr>
                    </thead>
                    <tbody>
        `;
        
        // Add feature rows
        featureList.forEach((feature, index) => {
            const rowBg = index % 2 === 0 ? '#ffffff' : '#f8f9fa';
            tableHTML += `
                <tr style="background: ${rowBg};">
                    <td style="padding: 1rem 1.5rem; font-weight: 500; color: var(--text-dark); border: 1px solid #dee2e6; font-size: 0.95rem;">
                        ${feature}
                    </td>
            `;
            
            plansWithAnnual.forEach(plan => {
                const hasFeature = plan.features.includes(feature);
                const isPopular = plan.popular;
                tableHTML += `
                    <td style="padding: 1rem 1.5rem; text-align: center; border: 1px solid #dee2e6; ${isPopular ? 'background: #e7f3ff;' : ''}">
                        ${hasFeature ? '<span style="color: var(--secondary-color); font-size: 1.5rem; font-weight: bold; display: inline-block;">‚úì</span>' : '<span style="color: #adb5bd; font-size: 1.25rem;">‚Äî</span>'}
                    </td>
                `;
            });
            
            tableHTML += `
                </tr>
            `;
        });
        
        tableHTML += `
                    </tbody>
                </table>
            </div>
        `;
        
        container.innerHTML = tableHTML;
        
    } catch (error) {
        console.error('Error loading pricing:', error);
        document.getElementById('pricing-container').innerHTML = `
            <div style="text-align: center; padding: 2rem; color: var(--text-light);">
                <p>Unable to load pricing. Please contact us for details.</p>
            </div>
        `;
    }
}

// Load pricing on page load
if (document.getElementById('pricing-container')) {
    loadPricing();
}


<style>
.pricing-table {
    min-width: 900px;
    border: 1px solid #dee2e6;
}

.pricing-table th,
.pricing-table td {
    border: 1px solid #dee2e6;
    vertical-align: middle;
}

.pricing-table thead th {
    background: #f8f9fa;
    font-weight: 600;
    border-bottom: 2px solid #dee2e6;
}

.pricing-table tbody tr:hover {
    background: #f0f9ff !important;
    transition: background 0.2s;
}

.pricing-table tbody tr:nth-child(even) {
    background: #f8f9fa;
}

.pricing-table tbody tr:nth-child(odd) {
    background: #ffffff;
}

/* Responsive wrapper */
#pricing-container {
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

@media (max-width: 768px) {
    .pricing-table {
        min-width: 700px;
        font-size: 0.875rem;
    }
    
    .pricing-table th,
    .pricing-table td {
        padding: 0.75rem 0.75rem !important;
    }
    
    .pricing-table th h3 {
        font-size: 1.25rem !important;
    }
}
</style>

<style>
.pricing-card:hover {
    transform: translateY(-5px) !important;
    box-shadow: var(--shadow-lg) !important;
}

@media (max-width: 768px) {
    .pricing-card {
        transform: scale(1) !important;
    }
}
</style>
{% endblock %}

{% block extra_js %}
<script>
    function handleImageError(img) {
        img.style.display = 'none';
        const placeholder = document.getElementById('image-placeholder');
        if (placeholder) {
            placeholder.style.display = 'flex';
        }
    }
    
    // Check if image loads, show placeholder if not
    window.addEventListener('load', function() {
        const img = document.getElementById('patient-care-img');
        if (img) {
            if (!img.complete) {
                img.onerror = function() {
                    handleImageError(this);
                };
            } else if (img.naturalHeight === 0) {
                handleImageError(img);
            }
        }
    });
</script>
{% endblock %}
